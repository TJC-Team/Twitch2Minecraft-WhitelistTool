import { Listener } from '@d-fischer/typed-event-emitter';
import { IrcClient } from '../IrcClient';
import { Message, MessageConstructor } from './Message';
export declare type MessageCollectorEndCallback = (messages: Message[]) => void;
export declare class MessageCollector {
    protected _client: IrcClient;
    protected _originalMessage: Message;
    protected _types: Set<MessageConstructor>;
    protected _messages: Message[];
    protected _promise?: Promise<Message[]>;
    protected _promiseResolve?: MessageCollectorEndCallback;
    protected _endEventHandlers: Map<Function, Listener>;
    constructor(_client: IrcClient, _originalMessage: Message, ...types: MessageConstructor[]);
    untilEvent(eventType: (handler: (...args: any[]) => void) => Listener): void;
    promise(): Promise<Message<any>[]>;
    collect(message: Message): boolean;
    end(): void;
    private _cleanEndEventHandlers;
    private _cleanEndEventHandler;
}
